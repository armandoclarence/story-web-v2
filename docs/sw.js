importScripts("https://storage.googleapis.com/workbox-cdn/releases/6.5.4/workbox-sw.js");const{precacheAndRoute:l,cleanupOutdatedCaches:g}=workbox.precaching,{registerRoute:n,setCatchHandler:p}=workbox.routing,{CacheFirst:a,NetworkFirst:w,StaleWhileRevalidate:r}=workbox.strategies,{ExpirationPlugin:s}=workbox.expiration,{CacheableResponsePlugin:i}=workbox.cacheableResponse,{BackgroundSyncPlugin:d}=workbox.backgroundSync,u=self.registration.scope;l([{"revision":null,"url":"assets/css/style.css"},{"revision":null,"url":"assets/js/api-mapper.js"},{"revision":null,"url":"assets/js/favorites-page.js"},{"revision":null,"url":"assets/js/filename.js"},{"revision":null,"url":"assets/js/form-templates.js"},{"revision":null,"url":"assets/js/home-page.js"},{"revision":null,"url":"assets/js/index.js"},{"revision":null,"url":"assets/js/login-page.js"},{"revision":null,"url":"assets/js/map.js"},{"revision":null,"url":"assets/js/new-guest-page.js"},{"revision":null,"url":"assets/js/new-page.js"},{"revision":null,"url":"assets/js/not-found-page.js"},{"revision":null,"url":"assets/js/register-page.js"},{"revision":null,"url":"assets/js/story-detail-page.js"},{"revision":null,"url":"assets/js/tiny-slider.js"},{"revision":"2e1423769784db6e4329bf88f2653f4a","url":"css/offline.css"},{"revision":"d52adcf6b14b9c8de529b9a95dbbf676","url":"css/styles/common.css"},{"revision":"1f36c68756656310292a7993023dfd3a","url":"css/styles/main.css"},{"revision":"819fd971cfafe5a3868a2c1359c9f3b2","url":"css/styles/new-form.css"},{"revision":"5c662b755531d7523065aafe9ecc3954","url":"css/styles/story-detail.css"},{"revision":"8c9635c8cceb026b1d012077244e4f1e","url":"css/styles/story-item.css"},{"revision":"cc72d67b74d815c4464cbda906464295","url":"icons/android-chrome-192x192.png"},{"revision":"d9522cb7d7717a41b621e54e1c4b498a","url":"icons/android-chrome-512x512.png"},{"revision":"ad07f67ec56aaf0929c1b2c91203e003","url":"icons/apple-touch-icon.png"},{"revision":"04f47bdebf2cd9a3836628b0e509b5bf","url":"icons/book.png"},{"revision":"37f98a2e3c07fcdda6510fade8f1f792","url":"icons/favicon-16x16.png"},{"revision":"9add44bb126590e6c7562bc14a83fb2c","url":"icons/favicon-32x32.png"},{"revision":"8fb1ce30b70f7ce4564e1cd600db4304","url":"icons/heart.png"},{"revision":"f7a08d52b181802ca9db806fd32e8aeb","url":"icons/maskable.png"},{"revision":"ac73f380ba0147f4fa5951dfaba2a665","url":"images/logo.png"},{"revision":"64f6b6cc9dd96099b9760167ee737d22","url":"index.html"},{"revision":"bad65158d1c24cceafc9a2d9f59a7fac","url":"manifest.webmanifest"},{"revision":"fdff27119fda49bcac2e1cad043e89bf","url":"offline.html"},{"revision":"081a79cbda491374e4cd526242e46b58","url":"screenshots/desktop-home.png"},{"revision":"ff1a90138fb314891a939a96719bbd84","url":"screenshots/desktop-story.png"},{"revision":"754e6d0ee62d2965d33e93a321ea6baa","url":"screenshots/mobile-home.png"},{"revision":"da23a6480064a85c010346184a8a388e","url":"screenshots/mobile-story.png"},{"revision":"601020486b75a486ca1c8a8f245a818b","url":"favicon.ico"},{"revision":"04f47bdebf2cd9a3836628b0e509b5bf","url":"icons/book.png"},{"revision":"8fb1ce30b70f7ce4564e1cd600db4304","url":"icons/heart.png"},{"revision":"bad65158d1c24cceafc9a2d9f59a7fac","url":"manifest.webmanifest"}]??[]);g();p(async({event:e})=>{const t=await caches.match(u);return t||new Response("Offline page not available",{status:503,statusText:"Service Unavailable",headers:{"Content-Type":"text/plain"}})});self.addEventListener("push",e=>{var c;let t;try{t=e.data.json()}catch{t={title:"New Story",options:{body:"Someone shared a new story"}}}const o={body:((c=t.options)==null?void 0:c.body)||"New content available",icon:"/icon.png",badge:"/icon.png",vibrate:[100,50,100],data:{dateOfArrival:Date.now(),primaryKey:1},actions:[{action:"close",title:"Tutup"}],requireInteraction:!0};e.waitUntil(self.registration.showNotification(t.title,o))});self.addEventListener("notificationclick",e=>{e.notification.close(),e.waitUntil(clients.matchAll({type:"window"}).then(t=>{for(const o of t)if("focus"in o)return o.focus();return clients.openWindow("/")}))});self.addEventListener("install",e=>{self.skipWaiting()});self.addEventListener("activate",e=>{self.clients.claim()});n(({request:e,sameOrigin:t})=>t&&e.destination==="image",new a({cacheName:"images",plugins:[new s({maxEntries:60,maxAgeSeconds:30*24*60*60}),new i({statuses:[0,200]})]}));n(({url:e})=>e.origin.includes("tile.openstreetmap.org"),new r({cacheName:"osm-tiles-cache",plugins:[new i({statuses:[0,200]}),new s({maxEntries:200,maxAgeSeconds:60*60*24*7})]}));n(/\.(js|css)$/,new a({cacheName:"static-resources",plugins:[new i({statuses:[0,200]})]}));n(({request:e})=>e.destination==="font",new a({cacheName:"fonts",plugins:[new s({maxEntries:30,maxAgeSeconds:60*60*24*365}),new i({statuses:[0,200]})]}));n(({url:e})=>e.pathname.includes("story-api.dicoding.dev/"),new w({cacheName:"api-cache",networkTimeoutSeconds:3,plugins:[new i({statuses:[0,200]}),new s({maxEntries:100,maxAgeSeconds:24*60*60}),new d("apiQueue",{maxRetentionTime:24*60})]}));n(/^https:\/\/fonts\.googleapis\.com/,new r({cacheName:"google-fonts-stylesheets"}));n(/^https:\/\/fonts\.gstatic\.com/,new a({cacheName:"google-fonts-webfonts",plugins:[new i({statuses:[0,200]}),new s({maxAgeSeconds:60*60*24*365,maxEntries:30})]}));n(/\.(?:png|gif|jpg|jpeg|webp|svg)$/,new a({cacheName:"images",plugins:[new s({maxEntries:60,maxAgeSeconds:30*24*60*60})]}));n(({request:e})=>e.mode==="navigate",new a({cacheName:"pages",plugins:[new s({maxEntries:50})]}));
